-- テストデータ投入用マイグレーション
-- 注意: このファイルは開発・テスト環境でのみ使用してください

-- ===========================
-- 1. テストユーザーの作成
-- ===========================

-- 管理者アカウント（2名）
INSERT INTO "user" (staff_id, name, password, is_admin) VALUES
('99001', '山田太郎', 'password123', true),
('99002', '佐藤花子', 'password123', true);

-- 一般ユーザーアカウント（8名）
INSERT INTO "user" (staff_id, name, password, is_admin) VALUES
('99003', '鈴木一郎', 'password123', false),
('99004', '田中美咲', 'password123', false),
('99005', '高橋健太', 'password123', false),
('99006', '伊藤さくら', 'password123', false),
('99007', '渡辺大輔', 'password123', false),
('99008', '山本優子', 'password123', false),
('99009', '中村誠', 'password123', false),
('99010', '小林愛', 'password123', false);

-- ===========================
-- 2. テスト申請の作成
-- ===========================

-- 【シャッフル確認用】2026年1月5日に8人全員が申請（8件）
-- レベル1: 3人、レベル2: 3人、レベル3: 2人
-- これにより、各レベル内でシャッフルが機能することを確認できる

INSERT INTO application (staff_id, vacation_date, period, level, status, is_within_lottery_period, remarks) VALUES
-- レベル1: 3人（シャッフル確認用）
('99003', '2026-01-05', 'full_day', 1, 'before_lottery', true, 'レベル1-A シャッフルテスト'),
('99004', '2026-01-05', 'full_day', 1, 'before_lottery', true, 'レベル1-B シャッフルテスト'),
('99005', '2026-01-05', 'full_day', 1, 'before_lottery', true, 'レベル1-C シャッフルテスト'),

-- レベル2: 3人（シャッフル確認用）
('99006', '2026-01-05', 'full_day', 2, 'before_lottery', true, 'レベル2-A シャッフルテスト'),
('99007', '2026-01-05', 'full_day', 2, 'before_lottery', true, 'レベル2-B シャッフルテスト'),
('99008', '2026-01-05', 'full_day', 2, 'before_lottery', true, 'レベル2-C シャッフルテスト'),

-- レベル3: 2人（シャッフル確認用）
('99009', '2026-01-05', 'full_day', 3, 'before_lottery', false, 'レベル3-A シャッフルテスト'),
('99010', '2026-01-05', 'full_day', 3, 'before_lottery', false, 'レベル3-B シャッフルテスト');

-- ===========================
-- 3. サマリー
-- ===========================
-- テストユーザー: 10名（管理者2名、一般8名）
-- テスト申請: 8件（全て2026年1月5日に集中）
--   - レベル1: 3件（99003, 99004, 99005）
--   - レベル2: 3件（99006, 99007, 99008）
--   - レベル3: 2件（99009, 99010）
-- 全申請のステータス: before_lottery（抽選前）
-- 期間: 全て全日
--
-- 【テスト目的】
-- 抽選処理を実行した際、各レベル内でシャッフルされることを確認
-- - レベル1の優先順位1-3: A, B, Cがランダムな順序になる
-- - レベル2の優先順位4-6: A, B, Cがランダムな順序になる
-- - レベル3の優先順位7-8: A, Bの順序（申請順）
